<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.modules.sys.dao.StuDao">
    <insert id="addStu" useGeneratedKeys="true" keyProperty="stuId">
        insert into tb_stu(stu_name,
                           open_id,
                           mobile,
                           gender,
                           address,
                           age,
                           parent)
        values (#{stuName},
                #{openId},
                #{mobile},
                #{gender},
                #{address},
                #{age},
                #{parent})
    </insert>

    <select id="selectAllStu" resultType="io.renren.modules.sys.vo.StuVO">
        SELECT a.stu_id,
               a.stu_name,
               a.gender,
               a.age,
               a.parent,
               a.mobile,
               b.sub_name,
               b.sub_total,
               b.sub_use,
               b.sub_surplus,
               a.create_time,
               a.update_time
        from tb_stu a
                 inner JOIN tb_subject b
                            on a.stu_id = b.stu_id
    </select>
</mapper>